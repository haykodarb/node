<!DOCTYPE html>
<html>
<head>
	<title>Invernadero</title>

	<h1> Invernadero</h1>

	<style>
		body {
			background-color: #d7fff1;
		}
		h1 {
			background-color: #285943;
			width: 600px;	
			height: 60px;
			text-align: center;
			font-family: Arial, Helvetica, serif;
			font-size: 40px;
			font-weight: 500;
			color: white;
		}

		form {
			display: flex;
		    flex-direction: column;
		    max-width: 600px;
		    width: 100%;
		    margin: 0 auto;
		    text-align: left;
		}


		form > div {
			display: flex;
		    align-items: center;
		    justify-content: space-between;
		    padding: 5px 0;
		    height: 60px;
		}

		form > div > label {
			font-size: 20px;
			font-family: Arial, Helvetica, serif;
			background: #8cd790;
			color: black;
			font-weight: 500;
			width: 100%;
			height: 100%;
			display: flex;
    		align-items: center;
    		padding-left: 40px;
    		border-top-left-radius: 5px;
    		border-bottom-left-radius: 5px;
		}

		form > div > input {
			font-size: 16px;
			background: #aafcb8;
			color: black;
			height: 100%;
			padding: 0;
			text-align: center;
			font-weight: 600;
			border: none;
			border-top-right-radius: 5px;
    		border-bottom-right-radius: 5px;
		}

		form input[type="submit"] {
			margin-top: 20px;
			padding: 10px;
		}

		form input[disabled] {
			background: #afafaf;
			cursor: not-allowed;
		}
	</style>
</head>
<body>	
	<form>
		<div>
			<label for="temperatura">Temperatura</label>
			<input type="text" id="temp" name="temp" value="">
		</div>	
		<div>
			<label for="humedad">Humedad</label>
			<input type="text" id="hum" name="hum" value="">
		</div>
		<div>
			<label for="luminosidad">Luminosidad</label>
			<input type="text" id="lumin" name="lumin" value="">
		</div>
		<div>
			<label for="hora">Hora</label>
			<input type="text" id="hora" name="hora" value="">
		</div>	
	</form>
</body>

<script>

	function fetchData() { 
	fetch('https://hayk-project.now.sh/datos')
	.then(res => {
		return res.json();	
	})
	.then(json => {
		let temp = json.temp;
		let hum = json.hum;
		temp = `${temp}Â°C`;
		hum = `${hum}%`;
		document.getElementById('temp').setAttribute('value', `${temp}`);
		document.getElementById('hum').setAttribute('value', `${hum}`);
	})
}
	
	fetchData();
	
	function liveUpdate() { 
		setInterval( () => {
			fetchData();
		}, 10000)
	}
	
	document.addEventListener('DOMContentLoaded', () => {
		liveUpdate();
	})
</script>

</html>